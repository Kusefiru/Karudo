                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 2.9.0 #5416 (Apr  7 2010) (MINGW32)
                              4 ; This file was generated Sun Sep 22 14:22:20 2019
                              5 ;--------------------------------------------------------
                              6 	.module main
                              7 	.optsdcc -mgbz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _main
                             13 	.globl _character_tiles
                             14 	.globl _CHAR_FRAME
                             15 	.globl _CHAR_LAST_ANIM
                             16 	.globl _CHAR_Y
                             17 	.globl _CHAR_X
                             18 	.globl _link_map
                             19 	.globl _is_taken
                             20 	.globl _seed
                             21 	.globl _GLOBAL_TIMER
                             22 	.globl _TIMER_MOVE
                             23 	.globl _marisa_palette
                             24 	.globl _f_LoadSprites
                             25 	.globl _f_MoveCharacter
                             26 	.globl _game_init
                             27 	.globl _interrupt_init
                             28 	.globl _timer_interrupt
                             29 ;--------------------------------------------------------
                             30 ;  ram data
                             31 ;--------------------------------------------------------
                             32 	.area _DATA
   0000                      33 _TIMER_MOVE::
   0000                      34 	.ds 1
   0001                      35 _GLOBAL_TIMER::
   0001                      36 	.ds 4
   0005                      37 _seed::
   0005                      38 	.ds 2
   0007                      39 _is_taken::
   0007                      40 	.ds 256
   0107                      41 _link_map::
   0107                      42 	.ds 256
   0207                      43 _CHAR_X::
   0207                      44 	.ds 1
   0208                      45 _CHAR_Y::
   0208                      46 	.ds 1
   0209                      47 _CHAR_LAST_ANIM::
   0209                      48 	.ds 1
   020A                      49 _CHAR_FRAME::
   020A                      50 	.ds 1
   020B                      51 _character_tiles::
   020B                      52 	.ds 256
                             53 ;--------------------------------------------------------
                             54 ; overlayable items in  ram 
                             55 ;--------------------------------------------------------
                             56 	.area _OVERLAY
                             57 ;--------------------------------------------------------
                             58 ; external initialized ram data
                             59 ;--------------------------------------------------------
                             60 ;--------------------------------------------------------
                             61 ; global & static initialisations
                             62 ;--------------------------------------------------------
                             63 	.area _HOME
                             64 	.area _GSINIT
                             65 	.area _GSFINAL
                             66 	.area _GSINIT
                             67 ;src/main.c:35: T_U08 character_tiles[] =
   0000 21r0Bs02             68 	ld	hl,#_character_tiles
   0003 CDr00s00             69 	call	__initrleblock
   0006 02                   70 	.db	2
   0007 FF FF                71 	.db	0xFF, 0xFF
   0009 F8 80                72 	.db	#-8,#0x80
   000B 04                   73 	.db	4
   000C 83 83 8E 8E          74 	.db	0x83, 0x83, 0x8E, 0x8E
   0010 F6 80                75 	.db	#-10,#0x80
   0012 0A                   76 	.db	10
   0013 8F 8F 80 80 80 80    77 	.db	0x8F, 0x8F, 0x80, 0x80, 0x80, 0x80, 0xFF, 0xFF
        FF FF
   001B FF FF                78 	.db	0xFF, 0xFF
   001D FA 01                79 	.db	#-6,#0x01
   001F FA C1                80 	.db	#-6,#0xC1
   0021 F8 81                81 	.db	#-8,#0x81
   0023 62                   82 	.db	98
   0024 BD BD E1 E1 01 01    83 	.db	0xBD, 0xBD, 0xE1, 0xE1, 0x01, 0x01, 0x01, 0x01
        01 01
   002C FF FF FF FF 80 80    84 	.db	0xFF, 0xFF, 0xFF, 0xFF, 0x80, 0x80, 0x80, 0x80
        80 80
   0034 83 83 86 86 84 84    85 	.db	0x83, 0x83, 0x86, 0x86, 0x84, 0x84, 0x80, 0x80
        80 80
   003C 80 80 81 81 83 83    86 	.db	0x80, 0x80, 0x81, 0x81, 0x83, 0x83, 0x8E, 0x8E
        8E 8E
   0044 98 98 9F 9F 80 80    87 	.db	0x98, 0x98, 0x9F, 0x9F, 0x80, 0x80, 0x80, 0x80
        80 80
   004C FF FF FF FF 01 01    88 	.db	0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x01, 0x01, 0x01
        01 01
   0054 81 81 C1 C1 41 41    89 	.db	0x81, 0x81, 0xC1, 0xC1, 0x41, 0x41, 0xC1, 0xC1
        C1 C1
   005C 81 81 81 81 01 01    90 	.db	0x81, 0x81, 0x81, 0x81, 0x01, 0x01, 0x01, 0x01
        01 01
   0064 71 71 C1 C1 01 01    91 	.db	0x71, 0x71, 0xC1, 0xC1, 0x01, 0x01, 0x01, 0x01
        01 01
   006C FF FF FF FF 80 80    92 	.db	0xFF, 0xFF, 0xFF, 0xFF, 0x80, 0x80, 0x80, 0x80
        80 80
   0074 87 87 84 84 80 80    93 	.db	0x87, 0x87, 0x84, 0x84, 0x80, 0x80, 0x80, 0x80
        80 80
   007C 81 81 80 80 80 80    94 	.db	0x81, 0x81, 0x80, 0x80, 0x80, 0x80, 0x88, 0x88
        88 88
   0084 8F 8F                95 	.db	0x8F, 0x8F
   0086 FA 80                96 	.db	#-6,#0x80
   0088 1A                   97 	.db	26
   0089 FF FF FF FF 01 01    98 	.db	0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x01, 0x01, 0x01
        01 01
   0091 E1 E1 21 21 61 61    99 	.db	0xE1, 0xE1, 0x21, 0x21, 0x61, 0x61, 0xE1, 0xE1
        E1 E1
   0099 B1 B1 11 11 11 11   100 	.db	0xB1, 0xB1, 0x11, 0x11, 0x11, 0x11, 0x31, 0x31
        31 31
   00A1 E1 E1               101 	.db	0xE1, 0xE1
   00A3 FA 01               102 	.db	#-6,#0x01
   00A5 14                  103 	.db	20
   00A6 FF FF FF FF 80 80   104 	.db	0xFF, 0xFF, 0xFF, 0xFF, 0x80, 0x80, 0x80, 0x80
        80 80
   00AE 81 81 87 87 8C 8C   105 	.db	0x81, 0x81, 0x87, 0x87, 0x8C, 0x8C, 0x98, 0x98
        98 98
   00B6 B0 B0 BF BF         106 	.db	0xB0, 0xB0, 0xBF, 0xBF
   00BA F4 80               107 	.db	#-12,#0x80
   00BC 0A                  108 	.db	10
   00BD FF FF FF FF 01 01   109 	.db	0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x01, 0xC1, 0xC1
        C1 C1
   00C5 C1 C1               110 	.db	0xC1, 0xC1
   00C7 FA 41               111 	.db	#-6,#0x41
   00C9 04                  112 	.db	4
   00CA 71 71 C1 C1         113 	.db	0x71, 0x71, 0xC1, 0xC1
   00CE FA 41               114 	.db	#-6,#0x41
   00D0 08                  115 	.db	8
   00D1 61 61 01 01 01 01   116 	.db	0x61, 0x61, 0x01, 0x01, 0x01, 0x01, 0xFF, 0xFF
        FF FF
   00D9 00                  117 	.db	0
                            118 ;--------------------------------------------------------
                            119 ; Home
                            120 ;--------------------------------------------------------
                            121 	.area _HOME
                            122 	.area _HOME
                            123 ;--------------------------------------------------------
                            124 ; code
                            125 ;--------------------------------------------------------
                            126 	.area _CODE
                            127 ;src/main.c:80: void main(void)
                            128 ;	---------------------------------
                            129 ; Function main
                            130 ; ---------------------------------
   0000                     131 _main:
                            132 	
                            133 ;src/main.c:82: game_init();
   0000 CDrF9s03            134 	call	_game_init
                            135 ;src/main.c:84: set_bkg_palette(0,5,area_tiles_palette);
   0003 21r00s00            136 	ld	hl,#_area_tiles_palette
   0006 E5                  137 	push	hl
   0007 21 00 05            138 	ld	hl,#0x0500
   000A E5                  139 	push	hl
   000B CDr00s00            140 	call	_set_bkg_palette
   000E E8 04               141 	lda	sp,4(sp)
                            142 ;src/main.c:85: set_bkg_data(0,5,area_tiles);
   0010 21r00s00            143 	ld	hl,#_area_tiles
   0013 E5                  144 	push	hl
   0014 21 00 05            145 	ld	hl,#0x0500
   0017 E5                  146 	push	hl
   0018 CDr00s00            147 	call	_set_bkg_data
   001B E8 04               148 	lda	sp,4(sp)
                            149 ;src/main.c:87: CHAR_X 		= 64;
   001D 21r07s02            150 	ld	hl,#_CHAR_X
   0020 36 40               151 	ld	(hl),#0x40
                            152 ;src/main.c:88: CHAR_Y		= 64;
   0022 21r08s02            153 	ld	hl,#_CHAR_Y
   0025 36 40               154 	ld	(hl),#0x40
                            155 ;src/main.c:89: CHAR_LAST_ANIM	= 0;
   0027 21r09s02            156 	ld	hl,#_CHAR_LAST_ANIM
   002A 36 00               157 	ld	(hl),#0x00
                            158 ;src/main.c:90: CHAR_FRAME  = 0;
   002C 21r0As02            159 	ld	hl,#_CHAR_FRAME
   002F 36 00               160 	ld	(hl),#0x00
                            161 ;src/main.c:92: f_DisplayMap(map_room, metatiles);
   0031 21r00s00            162 	ld	hl,#_metatiles
   0034 E5                  163 	push	hl
   0035 21r00s00            164 	ld	hl,#_map_room
   0038 E5                  165 	push	hl
   0039 CDr00s00            166 	call	_f_DisplayMap
   003C E8 04               167 	lda	sp,4(sp)
                            168 ;src/main.c:94: f_LoadSprites();
   003E CDr5Fs00            169 	call	_f_LoadSprites
                            170 ;src/main.c:96: while(1){
   0041                     171 00102$:
                            172 ;src/main.c:97: f_MoveCharacter();
   0041 CDr89s02            173 	call	_f_MoveCharacter
                            174 ;src/main.c:100: CHAR_LAST_ANIM++;
   0044 21r09s02            175 	ld	hl,#_CHAR_LAST_ANIM
   0047 34                  176 	inc	(hl)
                            177 ;src/main.c:103: wait_vbl_done();
   0048 CDr00s00            178 	call	_wait_vbl_done
   004B C3r41s00            179 	jp	00102$
   004E                     180 00104$:
                            181 	
   004E C9                  182 ret
   004F                     183 _marisa_palette:
   004F 00 7C               184 	.dw #0x7C00
   0051 FF 7F               185 	.dw #0x7FFF
   0053 C6 18               186 	.dw #0x18C6
   0055 00 00               187 	.dw #0x0000
   0057 00 7C               188 	.dw #0x7C00
   0059 9C 03               189 	.dw #0x039C
   005B C6 18               190 	.dw #0x18C6
   005D 00 00               191 	.dw #0x0000
                            192 ;src/main.c:109: void f_LoadSprites(void)
                            193 ;	---------------------------------
                            194 ; Function f_LoadSprites
                            195 ; ---------------------------------
   005F                     196 _f_LoadSprites:
                            197 	
   005F F5                  198 	push	af
   0060 3B                  199 	dec	sp
                            200 ;src/main.c:112: SPRITES_8x8;
   0061 F8 00               201 	lda	hl,0(sp)
   0063 36 40               202 	ld	(hl),#0x40
   0065 23                  203 	inc	hl
   0066 36 FF               204 	ld	(hl),#0xFF
   0068 01 40 FF            205 	ld	bc,#0xFF40
   006B 0A                  206 	ld	a,(bc)
   006C 4F                  207 	ld	c,a
   006D 06 00               208 	ld	b,#0x00
   006F 79                  209 	ld	a,c
   0070 E6 FB               210 	and	a,#0xFB
   0072 4F                  211 	ld	c,a
   0073 06 00               212 	ld	b,#0x00
   0075 79                  213 	ld	a,c
   0076 2B                  214 	dec	hl
   0077 5E                  215 	ld	e,(hl)
   0078 23                  216 	inc	hl
   0079 56                  217 	ld	d,(hl)
   007A 12                  218 	ld	(de),a
                            219 ;src/main.c:114: for(k=0;k!=8;k++){
   007B 23                  220 	inc	hl
   007C 36 00               221 	ld	(hl),#0x00
   007E                     222 00101$:
   007E F8 02               223 	lda	hl,2(sp)
   0080 7E                  224 	ld	a,(hl)
   0081 D6 08               225 	sub	a,#0x08
   0083 CArB9s00            226 	jp	Z,00104$
   0086                     227 00110$:
                            228 ;src/main.c:115: set_sprite_palette_entry((k>>2),k%4,character_tiles[k]);
   0086 11r0Bs02            229 	ld	de,#_character_tiles
   0089 F8 02               230 	lda	hl,2(sp)
   008B 6E                  231 	ld	l,(hl)
   008C 26 00               232 	ld	h,#0x00
   008E 19                  233 	add	hl,de
   008F 4D                  234 	ld	c,l
   0090 44                  235 	ld	b,h
   0091 0A                  236 	ld	a,(bc)
   0092 4F                  237 	ld	c,a
   0093 F8 00               238 	lda	hl,0(sp)
   0095 71                  239 	ld	(hl),c
   0096 23                  240 	inc	hl
   0097 36 00               241 	ld	(hl),#0x00
   0099 23                  242 	inc	hl
   009A 7E                  243 	ld	a,(hl)
   009B E6 03               244 	and	a,#0x03
   009D 4F                  245 	ld	c,a
   009E 46                  246 	ld	b,(hl)
   009F CB 38               247 	srl	b
   00A1 CB 38               248 	srl	b
   00A3 2B                  249 	dec	hl
   00A4 2B                  250 	dec	hl
   00A5 2A                  251 	ld	a,(hl+)
   00A6 66                  252 	ld	h,(hl)
   00A7 6F                  253 	ld	l,a
   00A8 E5                  254 	push	hl
   00A9 79                  255 	ld	a,c
   00AA F5                  256 	push	af
   00AB 33                  257 	inc	sp
   00AC C5                  258 	push	bc
   00AD 33                  259 	inc	sp
   00AE CDr00s00            260 	call	_set_sprite_palette_entry
   00B1 E8 04               261 	lda	sp,4(sp)
                            262 ;src/main.c:114: for(k=0;k!=8;k++){
   00B3 F8 02               263 	lda	hl,2(sp)
   00B5 34                  264 	inc	(hl)
   00B6 C3r7Es00            265 	jp	00101$
   00B9                     266 00104$:
                            267 ;src/main.c:118: set_data(0x8000,character_tiles,16);
   00B9 21 10 00            268 	ld	hl,#0x0010
   00BC E5                  269 	push	hl
   00BD 21r0Bs02            270 	ld	hl,#_character_tiles
   00C0 E5                  271 	push	hl
   00C1 21 00 80            272 	ld	hl,#0x8000
   00C4 E5                  273 	push	hl
   00C5 CDr00s00            274 	call	_set_data
   00C8 E8 06               275 	lda	sp,6(sp)
                            276 ;src/main.c:119: set_data(0x8010,character_tiles+0x10U,16);
   00CA 01r1Bs02            277 	ld	bc,#_character_tiles + 16
   00CD 21 10 00            278 	ld	hl,#0x0010
   00D0 E5                  279 	push	hl
   00D1 C5                  280 	push	bc
   00D2 26 80               281 	ld	h, #0x80
   00D4 E5                  282 	push	hl
   00D5 CDr00s00            283 	call	_set_data
   00D8 E8 06               284 	lda	sp,6(sp)
                            285 ;src/main.c:120: set_data(0x8020,character_tiles+0x20U,16);
   00DA 01r2Bs02            286 	ld	bc,#_character_tiles + 32
   00DD 21 10 00            287 	ld	hl,#0x0010
   00E0 E5                  288 	push	hl
   00E1 C5                  289 	push	bc
   00E2 21 20 80            290 	ld	hl,#0x8020
   00E5 E5                  291 	push	hl
   00E6 CDr00s00            292 	call	_set_data
   00E9 E8 06               293 	lda	sp,6(sp)
                            294 ;src/main.c:121: set_data(0x8030,character_tiles+0x30U,16);
   00EB 01r3Bs02            295 	ld	bc,#_character_tiles + 48
   00EE 21 10 00            296 	ld	hl,#0x0010
   00F1 E5                  297 	push	hl
   00F2 C5                  298 	push	bc
   00F3 21 30 80            299 	ld	hl,#0x8030
   00F6 E5                  300 	push	hl
   00F7 CDr00s00            301 	call	_set_data
   00FA E8 06               302 	lda	sp,6(sp)
                            303 ;src/main.c:123: set_data(0x8040,character_tiles+0x40U,16);
   00FC 01r4Bs02            304 	ld	bc,#_character_tiles + 64
   00FF 21 10 00            305 	ld	hl,#0x0010
   0102 E5                  306 	push	hl
   0103 C5                  307 	push	bc
   0104 21 40 80            308 	ld	hl,#0x8040
   0107 E5                  309 	push	hl
   0108 CDr00s00            310 	call	_set_data
   010B E8 06               311 	lda	sp,6(sp)
                            312 ;src/main.c:124: set_data(0x8050,character_tiles+0x50U,16);
   010D 01r5Bs02            313 	ld	bc,#_character_tiles + 80
   0110 21 10 00            314 	ld	hl,#0x0010
   0113 E5                  315 	push	hl
   0114 C5                  316 	push	bc
   0115 21 50 80            317 	ld	hl,#0x8050
   0118 E5                  318 	push	hl
   0119 CDr00s00            319 	call	_set_data
   011C E8 06               320 	lda	sp,6(sp)
                            321 ;src/main.c:125: set_data(0x8060,character_tiles+0x60U,16);
   011E 01r6Bs02            322 	ld	bc,#_character_tiles + 96
   0121 21 10 00            323 	ld	hl,#0x0010
   0124 E5                  324 	push	hl
   0125 C5                  325 	push	bc
   0126 21 60 80            326 	ld	hl,#0x8060
   0129 E5                  327 	push	hl
   012A CDr00s00            328 	call	_set_data
   012D E8 06               329 	lda	sp,6(sp)
                            330 ;src/main.c:126: set_data(0x8070,character_tiles+0x70U,16);
   012F 01r7Bs02            331 	ld	bc,#_character_tiles + 112
   0132 21 10 00            332 	ld	hl,#0x0010
   0135 E5                  333 	push	hl
   0136 C5                  334 	push	bc
   0137 21 70 80            335 	ld	hl,#0x8070
   013A E5                  336 	push	hl
   013B CDr00s00            337 	call	_set_data
   013E E8 06               338 	lda	sp,6(sp)
                            339 ;src/main.c:128: set_data(0x8080,character_tiles+0x80U,16);
   0140 01r8Bs02            340 	ld	bc,#_character_tiles + 128
   0143 21 10 00            341 	ld	hl,#0x0010
   0146 E5                  342 	push	hl
   0147 C5                  343 	push	bc
   0148 21 80 80            344 	ld	hl,#0x8080
   014B E5                  345 	push	hl
   014C CDr00s00            346 	call	_set_data
   014F E8 06               347 	lda	sp,6(sp)
                            348 ;src/main.c:129: set_data(0x8090,character_tiles+0x90U,16);
   0151 01r9Bs02            349 	ld	bc,#_character_tiles + 144
   0154 21 10 00            350 	ld	hl,#0x0010
   0157 E5                  351 	push	hl
   0158 C5                  352 	push	bc
   0159 21 90 80            353 	ld	hl,#0x8090
   015C E5                  354 	push	hl
   015D CDr00s00            355 	call	_set_data
   0160 E8 06               356 	lda	sp,6(sp)
                            357 ;src/main.c:130: set_data(0x80A0,character_tiles+0xA0U,16);
   0162 01rABs02            358 	ld	bc,#_character_tiles + 160
   0165 21 10 00            359 	ld	hl,#0x0010
   0168 E5                  360 	push	hl
   0169 C5                  361 	push	bc
   016A 21 A0 80            362 	ld	hl,#0x80A0
   016D E5                  363 	push	hl
   016E CDr00s00            364 	call	_set_data
   0171 E8 06               365 	lda	sp,6(sp)
                            366 ;src/main.c:131: set_data(0x80B0,character_tiles+0xB0U,16);
   0173 01rBBs02            367 	ld	bc,#_character_tiles + 176
   0176 21 10 00            368 	ld	hl,#0x0010
   0179 E5                  369 	push	hl
   017A C5                  370 	push	bc
   017B 21 B0 80            371 	ld	hl,#0x80B0
   017E E5                  372 	push	hl
   017F CDr00s00            373 	call	_set_data
   0182 E8 06               374 	lda	sp,6(sp)
                            375 ;src/main.c:133: set_data(0x80C0,character_tiles+0xC0U,16);
   0184 01rCBs02            376 	ld	bc,#_character_tiles + 192
   0187 21 10 00            377 	ld	hl,#0x0010
   018A E5                  378 	push	hl
   018B C5                  379 	push	bc
   018C 21 C0 80            380 	ld	hl,#0x80C0
   018F E5                  381 	push	hl
   0190 CDr00s00            382 	call	_set_data
   0193 E8 06               383 	lda	sp,6(sp)
                            384 ;src/main.c:134: set_data(0x80D0,character_tiles+0xD0U,16);
   0195 01rDBs02            385 	ld	bc,#_character_tiles + 208
   0198 21 10 00            386 	ld	hl,#0x0010
   019B E5                  387 	push	hl
   019C C5                  388 	push	bc
   019D 21 D0 80            389 	ld	hl,#0x80D0
   01A0 E5                  390 	push	hl
   01A1 CDr00s00            391 	call	_set_data
   01A4 E8 06               392 	lda	sp,6(sp)
                            393 ;src/main.c:135: set_data(0x80E0,character_tiles+0xE0U,16);
   01A6 01rEBs02            394 	ld	bc,#_character_tiles + 224
   01A9 21 10 00            395 	ld	hl,#0x0010
   01AC E5                  396 	push	hl
   01AD C5                  397 	push	bc
   01AE 21 E0 80            398 	ld	hl,#0x80E0
   01B1 E5                  399 	push	hl
   01B2 CDr00s00            400 	call	_set_data
   01B5 E8 06               401 	lda	sp,6(sp)
                            402 ;src/main.c:136: set_data(0x80F0,character_tiles+0xF0U,16);
   01B7 01rFBs02            403 	ld	bc,#_character_tiles + 240
   01BA 21 10 00            404 	ld	hl,#0x0010
   01BD E5                  405 	push	hl
   01BE C5                  406 	push	bc
   01BF 21 F0 80            407 	ld	hl,#0x80F0
   01C2 E5                  408 	push	hl
   01C3 CDr00s00            409 	call	_set_data
   01C6 E8 06               410 	lda	sp,6(sp)
                            411 ;src/main.c:138: set_sprite_tile(0,0);				// S0 is the first tile of the sprite VRAM
   01C8 21 00 00            412 	ld	hl,#0x0000
   01CB E5                  413 	push	hl
   01CC CDr00s00            414 	call	_set_sprite_tile
   01CF E8 02               415 	lda	sp,2(sp)
                            416 ;src/main.c:139: set_sprite_prop(0,0);				// S0 got palette 0
   01D1 21 00 00            417 	ld	hl,#0x0000
   01D4 E5                  418 	push	hl
   01D5 CDr00s00            419 	call	_set_sprite_prop
   01D8 E8 02               420 	lda	sp,2(sp)
                            421 ;src/main.c:140: move_sprite(0,CHAR_X,CHAR_Y);		// Move sprite to its initial position (given in level initialization)
   01DA 21r08s02            422 	ld	hl,#_CHAR_Y
   01DD 7E                  423 	ld	a,(hl)
   01DE F5                  424 	push	af
   01DF 33                  425 	inc	sp
   01E0 21r07s02            426 	ld	hl,#_CHAR_X
   01E3 7E                  427 	ld	a,(hl)
   01E4 F5                  428 	push	af
   01E5 33                  429 	inc	sp
   01E6 3E 00               430 	ld	a,#0x00
   01E8 F5                  431 	push	af
   01E9 33                  432 	inc	sp
   01EA CDr00s00            433 	call	_move_sprite
   01ED E8 03               434 	lda	sp,3(sp)
                            435 ;src/main.c:141: set_sprite_tile(1,2);				// S1 is the second tile of the sprite VRAM
   01EF 21 01 02            436 	ld	hl,#0x0201
   01F2 E5                  437 	push	hl
   01F3 CDr00s00            438 	call	_set_sprite_tile
   01F6 E8 02               439 	lda	sp,2(sp)
                            440 ;src/main.c:142: set_sprite_prop(1,0);				// S1 got palette 0
   01F8 21 01 00            441 	ld	hl,#0x0001
   01FB E5                  442 	push	hl
   01FC CDr00s00            443 	call	_set_sprite_prop
   01FF E8 02               444 	lda	sp,2(sp)
                            445 ;src/main.c:143: move_sprite(1,CHAR_X+8,CHAR_Y);		// etc...
   0201 21r07s02            446 	ld	hl,#_CHAR_X
   0204 7E                  447 	ld	a,(hl)
   0205 C6 08               448 	add	a,#0x08
   0207 4F                  449 	ld	c,a
   0208 21r08s02            450 	ld	hl,#_CHAR_Y
   020B 7E                  451 	ld	a,(hl)
   020C F5                  452 	push	af
   020D 33                  453 	inc	sp
   020E 41                  454 	ld	b,c
   020F 0E 01               455 	ld	c,#0x01
   0211 C5                  456 	push	bc
   0212 CDr00s00            457 	call	_move_sprite
   0215 E8 03               458 	lda	sp,3(sp)
                            459 ;src/main.c:144: set_sprite_tile(2,1);
   0217 21 02 01            460 	ld	hl,#0x0102
   021A E5                  461 	push	hl
   021B CDr00s00            462 	call	_set_sprite_tile
   021E E8 02               463 	lda	sp,2(sp)
                            464 ;src/main.c:145: set_sprite_prop(2,0);
   0220 21 02 00            465 	ld	hl,#0x0002
   0223 E5                  466 	push	hl
   0224 CDr00s00            467 	call	_set_sprite_prop
   0227 E8 02               468 	lda	sp,2(sp)
                            469 ;src/main.c:146: move_sprite(2,CHAR_X,CHAR_Y+8);
   0229 21r08s02            470 	ld	hl,#_CHAR_Y
   022C 7E                  471 	ld	a,(hl)
   022D C6 08               472 	add	a,#0x08
   022F 4F                  473 	ld	c,a
   0230 F5                  474 	push	af
   0231 33                  475 	inc	sp
   0232 21r07s02            476 	ld	hl,#_CHAR_X
   0235 7E                  477 	ld	a,(hl)
   0236 F5                  478 	push	af
   0237 33                  479 	inc	sp
   0238 3E 02               480 	ld	a,#0x02
   023A F5                  481 	push	af
   023B 33                  482 	inc	sp
   023C CDr00s00            483 	call	_move_sprite
   023F E8 03               484 	lda	sp,3(sp)
                            485 ;src/main.c:147: set_sprite_tile(3,3);
   0241 21 03 03            486 	ld	hl,#0x0303
   0244 E5                  487 	push	hl
   0245 CDr00s00            488 	call	_set_sprite_tile
   0248 E8 02               489 	lda	sp,2(sp)
                            490 ;src/main.c:148: set_sprite_prop(3,0);
   024A 21 03 00            491 	ld	hl,#0x0003
   024D E5                  492 	push	hl
   024E CDr00s00            493 	call	_set_sprite_prop
   0251 E8 02               494 	lda	sp,2(sp)
                            495 ;src/main.c:149: move_sprite(3,CHAR_X+8,CHAR_Y+8);
   0253 21r08s02            496 	ld	hl,#_CHAR_Y
   0256 7E                  497 	ld	a,(hl)
   0257 C6 08               498 	add	a,#0x08
   0259 4F                  499 	ld	c,a
   025A 21r07s02            500 	ld	hl,#_CHAR_X
   025D 7E                  501 	ld	a,(hl)
   025E C6 08               502 	add	a,#0x08
   0260 47                  503 	ld	b,a
   0261 79                  504 	ld	a,c
   0262 F5                  505 	push	af
   0263 33                  506 	inc	sp
   0264 C5                  507 	push	bc
   0265 33                  508 	inc	sp
   0266 3E 03               509 	ld	a,#0x03
   0268 F5                  510 	push	af
   0269 33                  511 	inc	sp
   026A CDr00s00            512 	call	_move_sprite
   026D E8 03               513 	lda	sp,3(sp)
                            514 ;src/main.c:151: SHOW_SPRITES;
   026F F8 00               515 	lda	hl,0(sp)
   0271 36 40               516 	ld	(hl),#0x40
   0273 23                  517 	inc	hl
   0274 36 FF               518 	ld	(hl),#0xFF
   0276 01 40 FF            519 	ld	bc,#0xFF40
   0279 0A                  520 	ld	a,(bc)
   027A 4F                  521 	ld	c,a
   027B 06 00               522 	ld	b,#0x00
   027D 79                  523 	ld	a,c
   027E F6 02               524 	or	a,#0x02
   0280 4F                  525 	ld	c,a
   0281 2B                  526 	dec	hl
   0282 5E                  527 	ld	e,(hl)
   0283 23                  528 	inc	hl
   0284 56                  529 	ld	d,(hl)
   0285 12                  530 	ld	(de),a
   0286                     531 00105$:
   0286 E8 03               532 	lda	sp,3(sp)
   0288 C9                  533 ret
                            534 ;src/main.c:154: void f_MoveCharacter(void)
                            535 ;	---------------------------------
                            536 ; Function f_MoveCharacter
                            537 ; ---------------------------------
   0289                     538 _f_MoveCharacter:
                            539 	
                            540 ;src/main.c:157: if(joypad() & J_RIGHT)
   0289 CDr00s00            541 	call	_joypad
   028C 4B                  542 	ld	c,e
   028D 06 00               543 	ld	b,#0x00
   028F 79                  544 	ld	a,c
   0290 E6 01               545 	and	a,#0x01
   0292 20 03               546 	jr	NZ,00133$
   0294 C3rADs02            547 	jp	00104$
   0297                     548 00133$:
                            549 ;src/main.c:159: CHAR_X++;
   0297 21r07s02            550 	ld	hl,#_CHAR_X
   029A 34                  551 	inc	(hl)
                            552 ;src/main.c:160: if(CHAR_X==137) CHAR_X--;
   029B 21r07s02            553 	ld	hl,#_CHAR_X
   029E 7E                  554 	ld	a,(hl)
   029F D6 89               555 	sub	a,#0x89
   02A1 C2rA6s02            556 	jp	NZ,00134$
   02A4 18 03               557 	jr	00135$
   02A6                     558 00134$:
   02A6 C3rADs02            559 	jp	00104$
   02A9                     560 00135$:
   02A9 21r07s02            561 	ld	hl,#_CHAR_X
   02AC 35                  562 	dec	(hl)
   02AD                     563 00104$:
                            564 ;src/main.c:162: if(joypad() & J_LEFT)
   02AD CDr00s00            565 	call	_joypad
   02B0 4B                  566 	ld	c,e
   02B1 06 00               567 	ld	b,#0x00
   02B3 79                  568 	ld	a,c
   02B4 E6 02               569 	and	a,#0x02
   02B6 20 03               570 	jr	NZ,00136$
   02B8 C3rD1s02            571 	jp	00108$
   02BB                     572 00136$:
                            573 ;src/main.c:164: CHAR_X--;
   02BB 21r07s02            574 	ld	hl,#_CHAR_X
   02BE 35                  575 	dec	(hl)
                            576 ;src/main.c:165: if(CHAR_X==23) CHAR_X++;
   02BF 21r07s02            577 	ld	hl,#_CHAR_X
   02C2 7E                  578 	ld	a,(hl)
   02C3 D6 17               579 	sub	a,#0x17
   02C5 C2rCAs02            580 	jp	NZ,00137$
   02C8 18 03               581 	jr	00138$
   02CA                     582 00137$:
   02CA C3rD1s02            583 	jp	00108$
   02CD                     584 00138$:
   02CD 21r07s02            585 	ld	hl,#_CHAR_X
   02D0 34                  586 	inc	(hl)
   02D1                     587 00108$:
                            588 ;src/main.c:167: if(joypad() & J_UP)
   02D1 CDr00s00            589 	call	_joypad
   02D4 4B                  590 	ld	c,e
   02D5 06 00               591 	ld	b,#0x00
   02D7 79                  592 	ld	a,c
   02D8 E6 04               593 	and	a,#0x04
   02DA 20 03               594 	jr	NZ,00139$
   02DC C3rF5s02            595 	jp	00112$
   02DF                     596 00139$:
                            597 ;src/main.c:169: CHAR_Y--;
   02DF 21r08s02            598 	ld	hl,#_CHAR_Y
   02E2 35                  599 	dec	(hl)
                            600 ;src/main.c:170: if(CHAR_Y==31) CHAR_Y++;
   02E3 21r08s02            601 	ld	hl,#_CHAR_Y
   02E6 7E                  602 	ld	a,(hl)
   02E7 D6 1F               603 	sub	a,#0x1F
   02E9 C2rEEs02            604 	jp	NZ,00140$
   02EC 18 03               605 	jr	00141$
   02EE                     606 00140$:
   02EE C3rF5s02            607 	jp	00112$
   02F1                     608 00141$:
   02F1 21r08s02            609 	ld	hl,#_CHAR_Y
   02F4 34                  610 	inc	(hl)
   02F5                     611 00112$:
                            612 ;src/main.c:172: if(joypad() & J_DOWN)
   02F5 CDr00s00            613 	call	_joypad
   02F8 4B                  614 	ld	c,e
   02F9 06 00               615 	ld	b,#0x00
   02FB 79                  616 	ld	a,c
   02FC E6 08               617 	and	a,#0x08
   02FE 20 03               618 	jr	NZ,00142$
   0300 C3r19s03            619 	jp	00116$
   0303                     620 00142$:
                            621 ;src/main.c:174: CHAR_Y++;
   0303 21r08s02            622 	ld	hl,#_CHAR_Y
   0306 34                  623 	inc	(hl)
                            624 ;src/main.c:175: if(CHAR_Y==113) CHAR_Y--;
   0307 21r08s02            625 	ld	hl,#_CHAR_Y
   030A 7E                  626 	ld	a,(hl)
   030B D6 71               627 	sub	a,#0x71
   030D C2r12s03            628 	jp	NZ,00143$
   0310 18 03               629 	jr	00144$
   0312                     630 00143$:
   0312 C3r19s03            631 	jp	00116$
   0315                     632 00144$:
   0315 21r08s02            633 	ld	hl,#_CHAR_Y
   0318 35                  634 	dec	(hl)
   0319                     635 00116$:
                            636 ;src/main.c:179: if(16U == CHAR_LAST_ANIM){
   0319 21r09s02            637 	ld	hl,#_CHAR_LAST_ANIM
   031C 4E                  638 	ld	c,(hl)
   031D 06 00               639 	ld	b,#0x00
   031F 79                  640 	ld	a,c
   0320 D6 10               641 	sub	a,#0x10
   0322 C2r2Bs03            642 	jp	NZ,00145$
   0325 B0                  643 	or	a,b
   0326 C2r2Bs03            644 	jp	NZ,00145$
   0329 18 03               645 	jr	00146$
   032B                     646 00145$:
   032B C3r99s03            647 	jp	00120$
   032E                     648 00146$:
                            649 ;src/main.c:180: CHAR_FRAME++;
   032E 21r0As02            650 	ld	hl,#_CHAR_FRAME
   0331 34                  651 	inc	(hl)
                            652 ;src/main.c:181: if(4U == CHAR_FRAME){
   0332 21r0As02            653 	ld	hl,#_CHAR_FRAME
   0335 4E                  654 	ld	c,(hl)
   0336 06 00               655 	ld	b,#0x00
   0338 79                  656 	ld	a,c
   0339 D6 04               657 	sub	a,#0x04
   033B C2r44s03            658 	jp	NZ,00147$
   033E B0                  659 	or	a,b
   033F C2r44s03            660 	jp	NZ,00147$
   0342 18 03               661 	jr	00148$
   0344                     662 00147$:
   0344 C3r4Cs03            663 	jp	00118$
   0347                     664 00148$:
                            665 ;src/main.c:182: CHAR_FRAME = 0U;
   0347 21r0As02            666 	ld	hl,#_CHAR_FRAME
   034A 36 00               667 	ld	(hl),#0x00
   034C                     668 00118$:
                            669 ;src/main.c:185: set_sprite_tile(0,0+(CHAR_FRAME<<2));
   034C 21r0As02            670 	ld	hl,#_CHAR_FRAME
   034F 7E                  671 	ld	a,(hl)
   0350 87                  672 	add	a,a
   0351 87                  673 	add	a,a
   0352 4F                  674 	ld	c,a
   0353 F5                  675 	push	af
   0354 33                  676 	inc	sp
   0355 3E 00               677 	ld	a,#0x00
   0357 F5                  678 	push	af
   0358 33                  679 	inc	sp
   0359 CDr00s00            680 	call	_set_sprite_tile
   035C E8 02               681 	lda	sp,2(sp)
                            682 ;src/main.c:186: set_sprite_tile(1,2+(CHAR_FRAME<<2));
   035E 21r0As02            683 	ld	hl,#_CHAR_FRAME
   0361 7E                  684 	ld	a,(hl)
   0362 87                  685 	add	a,a
   0363 87                  686 	add	a,a
   0364 4F                  687 	ld	c,a
   0365 0C                  688 	inc	c
   0366 0C                  689 	inc	c
   0367 41                  690 	ld	b,c
   0368 0E 01               691 	ld	c,#0x01
   036A C5                  692 	push	bc
   036B CDr00s00            693 	call	_set_sprite_tile
   036E E8 02               694 	lda	sp,2(sp)
                            695 ;src/main.c:187: set_sprite_tile(2,1+(CHAR_FRAME<<2));
   0370 21r0As02            696 	ld	hl,#_CHAR_FRAME
   0373 7E                  697 	ld	a,(hl)
   0374 87                  698 	add	a,a
   0375 87                  699 	add	a,a
   0376 4F                  700 	ld	c,a
   0377 0C                  701 	inc	c
   0378 41                  702 	ld	b,c
   0379 0E 02               703 	ld	c,#0x02
   037B C5                  704 	push	bc
   037C CDr00s00            705 	call	_set_sprite_tile
   037F E8 02               706 	lda	sp,2(sp)
                            707 ;src/main.c:188: set_sprite_tile(3,3+(CHAR_FRAME<<2));
   0381 21r0As02            708 	ld	hl,#_CHAR_FRAME
   0384 7E                  709 	ld	a,(hl)
   0385 87                  710 	add	a,a
   0386 87                  711 	add	a,a
   0387 4F                  712 	ld	c,a
   0388 0C                  713 	inc	c
   0389 0C                  714 	inc	c
   038A 0C                  715 	inc	c
   038B 41                  716 	ld	b,c
   038C 0E 03               717 	ld	c,#0x03
   038E C5                  718 	push	bc
   038F CDr00s00            719 	call	_set_sprite_tile
   0392 E8 02               720 	lda	sp,2(sp)
                            721 ;src/main.c:191: CHAR_LAST_ANIM = 0U;
   0394 21r09s02            722 	ld	hl,#_CHAR_LAST_ANIM
   0397 36 00               723 	ld	(hl),#0x00
   0399                     724 00120$:
                            725 ;src/main.c:195: move_sprite(0,CHAR_X,CHAR_Y);
   0399 21r08s02            726 	ld	hl,#_CHAR_Y
   039C 7E                  727 	ld	a,(hl)
   039D F5                  728 	push	af
   039E 33                  729 	inc	sp
   039F 21r07s02            730 	ld	hl,#_CHAR_X
   03A2 7E                  731 	ld	a,(hl)
   03A3 F5                  732 	push	af
   03A4 33                  733 	inc	sp
   03A5 3E 00               734 	ld	a,#0x00
   03A7 F5                  735 	push	af
   03A8 33                  736 	inc	sp
   03A9 CDr00s00            737 	call	_move_sprite
   03AC E8 03               738 	lda	sp,3(sp)
                            739 ;src/main.c:196: move_sprite(1,CHAR_X+8,CHAR_Y);
   03AE 21r07s02            740 	ld	hl,#_CHAR_X
   03B1 7E                  741 	ld	a,(hl)
   03B2 C6 08               742 	add	a,#0x08
   03B4 4F                  743 	ld	c,a
   03B5 21r08s02            744 	ld	hl,#_CHAR_Y
   03B8 7E                  745 	ld	a,(hl)
   03B9 F5                  746 	push	af
   03BA 33                  747 	inc	sp
   03BB 41                  748 	ld	b,c
   03BC 0E 01               749 	ld	c,#0x01
   03BE C5                  750 	push	bc
   03BF CDr00s00            751 	call	_move_sprite
   03C2 E8 03               752 	lda	sp,3(sp)
                            753 ;src/main.c:197: move_sprite(2,CHAR_X,CHAR_Y+8);
   03C4 21r08s02            754 	ld	hl,#_CHAR_Y
   03C7 7E                  755 	ld	a,(hl)
   03C8 C6 08               756 	add	a,#0x08
   03CA 4F                  757 	ld	c,a
   03CB F5                  758 	push	af
   03CC 33                  759 	inc	sp
   03CD 21r07s02            760 	ld	hl,#_CHAR_X
   03D0 7E                  761 	ld	a,(hl)
   03D1 F5                  762 	push	af
   03D2 33                  763 	inc	sp
   03D3 3E 02               764 	ld	a,#0x02
   03D5 F5                  765 	push	af
   03D6 33                  766 	inc	sp
   03D7 CDr00s00            767 	call	_move_sprite
   03DA E8 03               768 	lda	sp,3(sp)
                            769 ;src/main.c:198: move_sprite(3,CHAR_X+8,CHAR_Y+8);
   03DC 21r08s02            770 	ld	hl,#_CHAR_Y
   03DF 7E                  771 	ld	a,(hl)
   03E0 C6 08               772 	add	a,#0x08
   03E2 4F                  773 	ld	c,a
   03E3 21r07s02            774 	ld	hl,#_CHAR_X
   03E6 7E                  775 	ld	a,(hl)
   03E7 C6 08               776 	add	a,#0x08
   03E9 47                  777 	ld	b,a
   03EA 79                  778 	ld	a,c
   03EB F5                  779 	push	af
   03EC 33                  780 	inc	sp
   03ED C5                  781 	push	bc
   03EE 33                  782 	inc	sp
   03EF 3E 03               783 	ld	a,#0x03
   03F1 F5                  784 	push	af
   03F2 33                  785 	inc	sp
   03F3 CDr00s00            786 	call	_move_sprite
   03F6 E8 03               787 	lda	sp,3(sp)
   03F8                     788 00121$:
                            789 	
   03F8 C9                  790 ret
                            791 ;src/main.c:201: void game_init(void)
                            792 ;	---------------------------------
                            793 ; Function game_init
                            794 ; ---------------------------------
   03F9                     795 _game_init:
                            796 	
                            797 ;src/main.c:203: GLOBAL_TIMER = 0;
   03F9 AF                  798 	xor	a,a
   03FA 21r01s00            799 	ld	hl,#_GLOBAL_TIMER
   03FD 77                  800 	ld	(hl),a
   03FE 21r02s00            801 	ld	hl,#_GLOBAL_TIMER + 1
   0401 77                  802 	ld	(hl),a
   0402 21r03s00            803 	ld	hl,#_GLOBAL_TIMER + 2
   0405 77                  804 	ld	(hl),a
   0406 21r04s00            805 	ld	hl,#_GLOBAL_TIMER + 3
   0409 77                  806 	ld	(hl),a
                            807 ;src/main.c:204: TAC_REG = 0x07U;
   040A 01 07 FF            808 	ld	bc,#0xFF07
   040D 3E 07               809 	ld	a,#0x07
   040F 02                  810 	ld	(bc),a
                            811 ;src/main.c:206: interrupt_init();
   0410 CDr14s04            812 	call	_interrupt_init
   0413                     813 00101$:
                            814 	
   0413 C9                  815 ret
                            816 ;src/main.c:209: void interrupt_init(void)
                            817 ;	---------------------------------
                            818 ; Function interrupt_init
                            819 ; ---------------------------------
   0414                     820 _interrupt_init:
                            821 	
                            822 ;src/main.c:211: disable_interrupts();
   0414 CDr00s00            823 	call	_disable_interrupts
                            824 ;src/main.c:212: add_TIM(timer_interrupt);
   0417 21r36s04            825 	ld	hl,#_timer_interrupt
   041A E5                  826 	push	hl
   041B CDr00s00            827 	call	_add_TIM
   041E E8 02               828 	lda	sp,2(sp)
                            829 ;src/main.c:213: add_VBL(timer_interrupt);
   0420 21r36s04            830 	ld	hl,#_timer_interrupt
   0423 E5                  831 	push	hl
   0424 CDr00s00            832 	call	_add_VBL
   0427 E8 02               833 	lda	sp,2(sp)
                            834 ;src/main.c:214: enable_interrupts();
   0429 CDr00s00            835 	call	_enable_interrupts
                            836 ;src/main.c:216: set_interrupts(VBL_IFLAG | TIM_IFLAG);
   042C 3E 05               837 	ld	a,#0x05
   042E F5                  838 	push	af
   042F 33                  839 	inc	sp
   0430 CDr00s00            840 	call	_set_interrupts
   0433 E8 01               841 	lda	sp,1(sp)
   0435                     842 00101$:
                            843 	
   0435 C9                  844 ret
                            845 ;src/main.c:219: void timer_interrupt(void)
                            846 ;	---------------------------------
                            847 ; Function timer_interrupt
                            848 ; ---------------------------------
   0436                     849 _timer_interrupt:
                            850 	
                            851 ;src/main.c:221: GLOBAL_TIMER++;
   0436 21r01s00            852 	ld	hl,#_GLOBAL_TIMER
   0439 34                  853 	inc	(hl)
   043A 20 10               854 	jr	NZ,00103$
   043C 21r02s00            855 	ld	hl,#_GLOBAL_TIMER + 1
   043F 34                  856 	inc	(hl)
   0440 20 0A               857 	jr	NZ,00103$
   0442 21r03s00            858 	ld	hl,#_GLOBAL_TIMER + 2
   0445 34                  859 	inc	(hl)
   0446 20 04               860 	jr	NZ,00103$
   0448 21r04s00            861 	ld	hl,#_GLOBAL_TIMER + 3
   044B 34                  862 	inc	(hl)
   044C                     863 00103$:
                            864 ;src/main.c:222: TIMER_MOVE++;
   044C 21r00s00            865 	ld	hl,#_TIMER_MOVE
   044F 34                  866 	inc	(hl)
   0450                     867 00101$:
                            868 	
   0450 C9                  869 ret
                            870 	.area _CODE
                            871 	.area _CABS
